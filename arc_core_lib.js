(()=>{var i={490:e=>{"use strict";e.exports=JSON.parse('{"version":"0.2.2","codename":"firestorm","author":"Encapsule","contributors":[{"name":"Chris Russell","email":"cdr@encapsule.io","url":"https://github.com/ChrisRus"}],"buildID":"oHcK4HI2R-uWToPGoutlAQ","buildTime":1636579333,"buildSource":"b8d25253c32ba4ec679c9530a7bfc5c88a8ef490"}')},383:(r,e,t)=>{"use strict";(function(){var e;e=t(490),r.exports={__meta:{name:"arccore",version:e.version,codename:e.codename,author:e.author,contributors:e.contributors,buildID:e.buildID,buildTime:e.buildTime,buildSource:e.buildSource},__bundle:{murmurhash_js:t(309),uuid:t(749)},discriminator:{create:t(283).request},discriminator2:{create:t(229).request},filter:t(506),graph:t(543),identifier:t(256),types:t(784),util:t(44)}}).call(void 0)},364:(e,r,t)=>{"use strict";var a=t(151),l=t(81),o=t(946),n=t(480);(function(){var t=function(e,r){return function(){return e.apply(r,arguments)}},i=function(){function e(e){if(this.getGraphName=t(this.getGraphName,this),this.setGraphName=t(this.setGraphName,this),this.getGraphDescription=t(this.getGraphDescription,this),this.setGraphDescription=t(this.setGraphDescription,this),this.isVertex=t(this.isVertex,this),this.addVertex=t(this.addVertex,this),this.removeVertex=t(this.removeVertex,this),this.getVertexProperty=t(this.getVertexProperty,this),this.setVertexProperty=t(this.setVertexProperty,this),this.hasVertexProperty=t(this.hasVertexProperty,this),this.clearVertexProperty=t(this.clearVertexProperty,this),this.inDegree=t(this.inDegree,this),this.inEdges=t(this.inEdges,this),this.outDegree=t(this.outDegree,this),this.outEdges=t(this.outEdges,this),this.isEdge=t(this.isEdge,this),this.addEdge=t(this.addEdge,this),this.removeEdge=t(this.removeEdge,this),this.getEdgeProperty=t(this.getEdgeProperty,this),this.setEdgeProperty=t(this.setEdgeProperty,this),this.hasEdgeProperty=t(this.hasEdgeProperty,this),this.clearEdgeProperty=t(this.clearEdgeProperty,this),this.verticesCount=t(this.verticesCount,this),this.getVertices=t(this.getVertices,this),this.edgesCount=t(this.edgesCount,this),this.getEdges=t(this.getEdges,this),this.rootVerticesCount=t(this.rootVerticesCount,this),this.getRootVertices=t(this.getRootVertices,this),this.leafVerticesCount=t(this.leafVerticesCount,this),this.getLeafVertices=t(this.getLeafVertices,this),this.toJSON=t(this.toJSON,this),this.toObject=t(this.toObject,this),this.stringify=t(this.stringify,this),this.fromObject=t(this.fromObject,this),this.fromJSON=t(this.fromJSON,this),this._private={name:"",description:"",vertexMap:{},rootMap:{},leafMap:{},edgeCount:0,constructionError:null},null!==e&&e){var r=o(this,e);r.error&&(this._private.constructionError="DirectedGraph constructor failed: "+r.error)}}return e.prototype.getGraphName=function(){return this._private.name},e.prototype.setGraphName=function(e){var r={error:null,result:null};return"[object String]"===a.JSType(e)?(this._private.name=e,r.result=!0):r.error="Invalid graph name specified. Expected '[object String]'.",r},e.prototype.getGraphDescription=function(){return this._private.description},e.prototype.setGraphDescription=function(e){var r={error:null,result:null};return"[object String]"===a.JSType(e)?(this._private.description=e,r.result=!0):r.error="Invalid graph name specified. Expected '[object String]'.",r},e.prototype.isVertex=function(e){if(l.verifyVertexReadRequest(e).error)return!1;var r=this._private.vertexMap[e];return!(null===r||!r)},e.prototype.addVertex=function(e){for(var r={error:null,result:null},t=[],i=!1;!i;){i=!0;var o=l.verifyVertexWriteRequest(e);if(o.error){t.unshift(o.error);break}var n=this._private.vertexMap[e.u];null!==n&&n||((n=this._private.vertexMap[e.u]={}).edges={},n.edges.in={},n.edges.out={},this._private.rootMap[e.u]={},this._private.leafMap[e.u]={}),"[object Undefined]"!==a.JSType(e.p)&&(n.properties=e.p),r.result=e.u}return t.length&&(t.unshift("DirectedGraph.addVertex failed:"),r.error=t.join(" ")),r},e.prototype.removeVertex=function(e){if(l.verifyVertexReadRequest(e).error)return!1;var r,t=this._private.vertexMap[e];if(null===t||!t)return!1;for(r in t.edges.out)this.removeEdge({u:e,v:r});for(r in t.edges.in)this.removeEdge({u:r,v:e});return delete this._private.vertexMap[e],delete this._private.rootMap[e],delete this._private.leafMap[e],!0},e.prototype.getVertexProperty=function(e){if(this.isVertex(e))return this._private.vertexMap[e].properties},e.prototype.setVertexProperty=function(e){return this.addVertex(e)},e.prototype.hasVertexProperty=function(e){return!!this.isVertex(e)&&"[object Undefined]"!==a.JSType(this._private.vertexMap[e].properties)},e.prototype.clearVertexProperty=function(e){return!!this.isVertex(e)&&(delete this._private.vertexMap[e].properties,!0)},e.prototype.inDegree=function(e){return this.isVertex(e)?Object.keys(this._private.vertexMap[e].edges.in).length:-1},e.prototype.inEdges=function(e){var r=[];if(this.isVertex(e))for(var t in this._private.vertexMap[e].edges.in)r.push({u:t,v:e});return r},e.prototype.outDegree=function(e){return this.isVertex(e)?Object.keys(this._private.vertexMap[e].edges.out).length:-1},e.prototype.outEdges=function(e){var r=[];if(this.isVertex(e))for(var t in this._private.vertexMap[e].edges.out)r.push({u:e,v:t});return r},e.prototype.isEdge=function(e){for(var r=!1,t=!1;!t&&(t=!0,!l.verifyEdgeReadRequest(e).error);){var i=this._private.vertexMap[e.u],o=this._private.vertexMap[e.v];if(null===i||!i||null===o||!o)break;var n=i.edges.out[e.v];r=!(null===n||!n)}return r},e.prototype.addEdge=function(e){for(var r={error:null,result:null},t=[],i=!1;!i;){i=!0;var o=l.verifyEdgeWriteRequest(e);if(o.error){t.unshift(o.error);break}if((o=this.addVertex({u:e.e.u})).error){t.unshift(o.error);break}if((o=this.addVertex({u:e.e.v})).error){t.unshift(o.error);break}var n=this._private.vertexMap[e.e.u].edges.out[e.e.v];null!==n&&n||(n=this._private.vertexMap[e.e.u].edges.out[e.e.v]={},delete this._private.leafMap[e.e.u]);var s=this._private.vertexMap[e.e.v].edges.in[e.e.u];null!==s&&s||(s=this._private.vertexMap[e.e.v].edges.in[e.e.u]={},this._private.edgeCount++,delete this._private.rootMap[e.e.v]),"[object Undefined]"!==a.JSType(e.p)&&(n.properties=e.p),r.result=e.e}return t.length&&(t.unshift("DirectedGraph.addEdge failed:"),r.error=t.join(" ")),r},e.prototype.removeEdge=function(e){for(var r={error:null,result:null},t=[],i=!1;!i;){i=!0;var o=l.verifyEdgeReadRequest(e);if(o.error){t.unshift(o.error);break}var n=this._private.vertexMap[e.u],s=this._private.vertexMap[e.v];if(null===n||!n||null===s||!s){r.result=!1;break}var a=n.edges.out,u=a[e.v];if(null===u||!u){r.result=!1;break}delete a[e.v],Object.keys(a).length||(this._private.leafMap[e.u]={});var c=s.edges.in;delete c[e.u],Object.keys(c).length||(this._private.rootMap[e.v]={}),this._private.edgeCount&&this._private.edgeCount--,r.result=!0}return t.length&&(t.unshift("DirectedGraph.removeEdge failed:"),r.error=t.join(" ")),r},e.prototype.getEdgeProperty=function(e){for(var r=void 0,t=!1;!t&&(t=!0,!l.verifyEdgeReadRequest(e).error);){var i=this._private.vertexMap[e.u],o=this._private.vertexMap[e.v];if(null===i||!i||null===o||!o)break;r=i.edges.out[e.v].properties}return r},e.prototype.setEdgeProperty=function(e){return this.addEdge(e)},e.prototype.hasEdgeProperty=function(e){return!!this.isEdge(e)&&"[object Undefined]"!==a.JSType(this._private.vertexMap[e.u].edges.out[e.v].properties)},e.prototype.clearEdgeProperty=function(e){return!!this.isEdge(e)&&(delete this._private.vertexMap[e.u].edges.out[e.v].properties,!0)},e.prototype.verticesCount=function(){return Object.keys(this._private.vertexMap).length},e.prototype.getVertices=function(){var e=[];for(var r in this._private.vertexMap)e.push(r);return e},e.prototype.edgesCount=function(){return this._private.edgeCount},e.prototype.getEdges=function(){var r=[],e=this.getVertices(),t=this;return e.forEach(function(e){t.outEdges(e).forEach(function(e){r.push(e)})}),r},e.prototype.rootVerticesCount=function(){return Object.keys(this._private.rootMap).length},e.prototype.getRootVertices=function(){var e=[];for(var r in this._private.rootMap)e.push(r);return e},e.prototype.leafVerticesCount=function(){return Object.keys(this._private.leafMap).length},e.prototype.getLeafVertices=function(){var e=[];for(var r in this._private.leafMap)e.push(r);return e},e.prototype.toJSON=function(){return n.exportObject(this)},e.prototype.toObject=function(){return n.exportObject(this)},e.prototype.stringify=function(e,r){return n.exportJSON(this,e,r)},e.prototype.fromObject=function(e){return o(this,e)},e.prototype.fromJSON=function(e){return o(this,e)},e}();e.exports={createDirectedGraph:function(e){var r={error:null,result:null},t=new i(e);return t._private.constructionError?r.error=t._private.constructionError:r.result=t,r},DirectedGraph:i}}).call(void 0)},646:(e,r,t)=>{"use strict";var h=t(151),d="BFT",g=t(645),b=t(754),v=t(613);e.exports=function(e){for(var n=null,r={error:null,result:null},t=[],i=!0,o=!1,s=[];!o;){var a,u;o=!0;var c=v(e);if(c.error){t.unshift(c.error);break}if("pending"===(n=c.result).options.traverseContext.searchStatus)for(u in n.options.traverseContext.colorMap){if((c=b({algorithm:d,visitor:n.visitor,method:"initializeVertex",request:{u:u,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(!(i=c.result))break}if(n.options.traverseContext.searchStatus="active",t.length||!i)break;for(a in"[object Function]"===h.JSType(n.visitor.getEdgeWeight)&&"[object Function]"===h.JSType(n.visitor.compareEdgeWeights)&&n.options.startVector.sort(function(e,r){var t=b({algorithm:d,visitor:n.visitor,method:"getEdgeWeight",request:{e:{u:void 0,v:e},g:n.digraph,context:n.context}});if(t.error)return 0;var i=t.result;if((t=b({algorithm:d,visitor:n.visitor,method:"getEdgeWeight",request:{e:{u:void 0,v:r},g:n.digraph,context:n.context}})).error)return 0;var o=t.result;return(t=b({algorithm:d,visitor:n.visitor,method:"compareEdgeWeights",request:{a:i,b:o,context:n.context}})).error?0:t.result}),n.options.startVector){var l=n.options.startVector[a];if(!n.digraph.isVertex(l)){t.unshift("BFT request failed. Vertex '"+l+"' not found in specfied directed graph container.");break}if(n.options.traverseContext.colorMap[l]!==g.white){t.unshift("BFT request failed. Vertex '"+l+"' color map not initialized to white.");break}if(n.options.signalStart){if((c=b({algorithm:d,visitor:n.visitor,method:"startVertex",request:{u:l,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}i=c.result}if(t.length||!i)break;if((c=b({algorithm:d,visitor:n.visitor,method:"discoverVertex",request:{u:l,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(i=c.result,delete n.options.traverseContext.undiscoveredMap[l],s.push(l),n.options.traverseContext.colorMap[l]=g.gray,!i)break}for(;s.length&&i&&!t.length;){if(u=s.shift(),n.options.traverseContext.colorMap[u]=g.black,(c=b({algorithm:d,visitor:n.visitor,method:"examineVertex",request:{u:u,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(!(i=c.result))break;var p=n.digraph.outEdges(u);for(a in"[object Function]"===h.JSType(n.visitor.getEdgeWeight)&&"[object Function]"===h.JSType(n.visitor.compareEdgeWeights)&&p.sort(function(e,r){var t=b({algorithm:d,visitor:n.visitor,method:"getEdgeWeight",request:{e:e,g:n.digraph,context:n.context}});if(t.error)return 0;var i=t.result;if((t=b({algorithm:d,visitor:n.visitor,method:"getEdgeWeight",request:{e:r,g:n.digraph,context:n.context}})).error)return 0;var o=t.result;return(t=b({algorithm:d,visitor:n.visitor,method:"compareEdgeWeights",request:{a:i,b:o,context:n.context}})).error?0:t.result}),p){var f=p[a];if((c=b({algorithm:d,visitor:n.visitor,method:"examineEdge",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(!(i=c.result))break;switch(n.options.traverseContext.colorMap[f.v]){case g.white:if((c=b({algorithm:d,visitor:n.visitor,method:"discoverVertex",request:{u:f.v,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(i=c.result,delete n.options.traverseContext.undiscoveredMap[f.v],!i)break;if((c=b({algorithm:d,visitor:n.visitor,method:"treeEdge",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}i=c.result,s.push(f.v),n.options.traverseContext.colorMap[f.v]=g.gray;break;case g.gray:if((c=b({algorithm:d,visitor:n.visitor,method:"nonTreeEdge",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(i=c.result){if((c=b({algorithm:d,visitor:n.visitor,method:"grayTarget",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}i=c.result}break;case g.black:if((c=b({algorithm:d,visitor:n.visitor,method:"nonTreeEdge",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(i=c.result){if((c=b({algorithm:d,visitor:n.visitor,method:"blackTarget",request:{e:f,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}i=c.result}break;default:t.unshift("BFT failure: An invalid color value was found in the color map for vertex '"+f.v+"'. Please file an issue!")}if(t.length||!i)break}if(t.length||!i)break;if((c=b({algorithm:d,visitor:n.visitor,method:"finishVertex",request:{u:u,g:n.digraph,context:n.context}})).error){t.unshift(c.error);break}if(!(i=c.result))break}}return t.length?(n&&(n.options.traverseContext.searchStatus="error"),t.unshift("jsgraph.directed.breadthFirstTraverse algorithm failure:"),r.error=t.join(" ")):(n.options.traverseContext.searchStatus=i?"completed":"terminated",r.result=n.options.traverseContext),r}},645:e=>{"use strict";e.exports={white:0,gray:1,black:2}},399:(e,r,t)=>{"use strict";var u=t(151),c=t(645);e.exports=function(e){for(var r={error:null,result:null},t=[],i={searchStatus:"pending",colorMap:{},undiscoveredMap:{}},o=function(e){i.colorMap[e]=c.white,i.undiscoveredMap[e]=!0},n=!1;!n;){n=!0;var s="[object Object]",a=u.JSType(e);if(a!==s){t.unshift("Expected request to be of type '"+s+"' but found '"+a+"'.");break}if((a=u.JSType(e.digraph))!==s){t.unshift("Expected request.digraph to be of type '"+s+"' but found '"+a+"'.");break}e.digraph.getVertices().forEach(o),r.result=i}return t.length&&(t.unshift("jsgraph.directed.createTraverseContext failed:"),r.error=t.join(" ")),r}},129:(e,r,t)=>{"use strict";var y=t(151),j="DFT",m=t(645),k=t(754),x=t(613);e.exports=function(e){for(var n=null,r={error:null,result:null},t=[],i=!0,o=!1;!o;){var s,a;o=!0;var u={},c=null,l=null,p=x(e);if(p.error){t.unshift(p.error);break}if("pending"===(n=p.result).options.traverseContext.searchStatus)for(a in n.options.traverseContext.colorMap){if((p=k({algorithm:j,visitor:n.visitor,method:"initializeVertex",request:{u:a,g:n.digraph,context:n.context}})).error){t.unshift(p.error);break}if(!(i=p.result))break}if(n.options.traverseContext.searchStatus="active",t.length||!i)break;for(s in"[object Function]"===y.JSType(n.visitor.getEdgeWeight)&&"[object Function]"===y.JSType(n.visitor.compareEdgeWeights)&&n.options.startVector.sort(function(e,r){var t=k({algorithm:j,visitor:n.visitor,method:"getEdgeWeight",request:{e:{u:void 0,v:e},g:n.digraph,context:n.context}});if(t.error)return 0;var i=t.result;if((t=k({algorithm:j,visitor:n.visitor,method:"getEdgeWeight",request:{e:{u:void 0,v:r},g:n.digraph,context:n.context}})).error)return 0;var o=t.result;return(t=k({algorithm:j,visitor:n.visitor,method:"compareEdgeWeights",request:{a:i,b:o,context:n.context}})).error?0:t.result}),n.options.startVector){if(a=n.options.startVector[s],!n.digraph.isVertex(a)){t.unshift("DFT request failed. Vertex '"+a+"' not found in specified directed graph container.");break}if(n.options.traverseContext.colorMap[a]!==m.white){t.unshift("DFT request failed. Vertex '"+a+"' color map not initialized to white.");break}if(n.options.signalStart){if((p=k({algorithm:j,visitor:n.visitor,method:"startVertex",request:{u:a,g:n.digraph,context:n.context}})).error){t.unshift(p.error);break}i=p.result}if(!i)break;for(var f=[[a]];f.length&&i&&!t.length;){var h=f[f.length-1][0];switch(n.options.traverseContext.colorMap[h]){case m.white:if(delete n.options.traverseContext.undiscoveredMap[h],n.options.traverseContext.colorMap[h]=m.gray,(p=k({algorithm:j,visitor:n.visitor,method:"discoverVertex",request:{u:h,g:n.digraph,context:n.context}})).error){t.unshift(p.error);break}if(!(i=p.result))break;if(f.length>1){if((p=k({algorithm:j,visitor:n.visitor,method:"treeEdge",request:{e:{u:f[f.length-2][0],v:h},g:n.digraph,context:n.context}})).error){t.unshift(p.error);break}if(!(i=p.result))break}var d=n.digraph.outEdges(h);"[object Function]"===y.JSType(n.visitor.getEdgeWeight)&&"[object Function]"===y.JSType(n.visitor.compareEdgeWeights)&&d.sort(function(e,r){var t=k({algorithm:j,visitor:n.visitor,method:"getEdgeWeight",request:{e:e,g:n.digraph,context:n.context}});if(t.error)return 0;var i=t.result;if((t=k({algorithm:j,visitor:n.visitor,method:"getEdgeWeight",request:{e:r,g:n.digraph,context:n.context}})).error)return 0;var o=t.result;return(t=k({algorithm:j,visitor:n.visitor,method:"compareEdgeWeights",request:{a:i,b:o,context:n.context}})).error?0:t.result});for(var g=[];d.length&&!t.length&&i;){var b=d.shift().v;if((p=k({algorithm:j,visitor:n.visitor,method:"examineEdge",request:{e:{u:h,v:b},g:n.digraph,context:n.context}})).error){t.unshift(innerRepsonse.error);break}if(!(i=p.result))break;switch(n.options.traverseContext.colorMap[b]){case m.white:g.push(b);break;case m.gray:(p=k({algorithm:j,visitor:n.visitor,method:"backEdge",request:{e:{u:h,v:b},g:n.digraph,context:n.context}})).error?t.unshift(p.error):i=p.result;break;case m.black:(p=k({algorithm:j,visitor:n.visitor,method:"forwardOrCrossEdge",request:{e:{u:h,v:b},g:n.digraph,context:n.context}})).error?t.unshift(p.error):i=p.result}}g.length&&f.push(g);break;case m.gray:if(n.options.traverseContext.colorMap[h]=m.black,(p=k({algorithm:j,visitor:n.visitor,method:"finishVertex",request:{u:h,g:n.digraph,context:n.context}})).error){t.unshift(p.error);break}if(!(i=p.result))break;for(var v=n.digraph.inEdges(h);v.length;){var _=v.pop();u[l=_.u+_.v]=_}f[f.length-1].shift(),f[f.length-1].length||f.pop();break;case m.black:if(f.length>1){if(c={e:{u:f[f.length-2][0],v:h},g:n.digraph,context:n.context},(p=k({algorithm:j,visitor:n.visitor,method:"forwardOrCrossEdge",request:c})).error){t.unshift(p.error);break}if(!(i=p.result))break}f[f.length-1].shift(),f[f.length-1].length||f.pop();break;default:t.unshift("DFT failure: An invalid color value was found in the color map for vertex '"+h+"'.")}}if(t.length||!i)break}if(t.length||!i)break;for(l in u){if(c={e:u[l],g:n.digraph,context:n.context},(p=k({algorithm:j,visitor:n.visitor,method:"finishEdge",request:c})).error){t.unshift(p.error);break}if(!(i=p.result))break}}return t.length?(n&&(n.options.traverseContext.searchStatus="error"),t.unshift("jsgraph.directed.depthFirstTraverse algorithm failure:"),r.error=t.join(" ")):(n.options.traverseContext.searchStatus=i?"completed":"terminated",r.result=n.options.traverseContext),r}},613:(e,r,t)=>{"use strict";var u=t(151),c=t(399);e.exports=function(e){for(var r={error:null,result:null},t=[],i=null,o=!1,n=function(){var e=c({digraph:i.digraph}),r=null;return e.error?t.unshift(e.error):r=e.result,r},s=function(){return i.digraph.getRootVertices()};!o;){o=!0;var a=u.JSType(e);if("[object Object]"!==a){t.unshift("Missing request object ~. Found type '"+a+"'.");break}if(i={},"[object Object]"!==(a=u.JSType(e.digraph))){t.unshift("Missing required DirectedGraph reference ~.digraph. Found type '"+a+"'.");break}if(i.digraph=e.digraph,"[object Object]"!==(a=u.JSType(e.visitor))){t.unshift("Missing required visitor object reference ~.visitor. Found type '"+a+"'.");break}if(i.visitor=e.visitor,"[object Undefined]"!==(a=u.JSType(e.options))&&"[object Object]"!==a){t.unshift("Options object ~.options is the wrong type. Found type '"+a+"'.");break}if(i.options={},"[object Object]"===a){switch(a=u.JSType(e.options.startVector)){case"[object Undefined]":break;case"[object String]":i.options.startVector=[e.options.startVector];break;case"[object Array]":i.options.startVector=e.options.startVector;break;default:t.unshift("Options object property ~.options.startVector is the wrong type. Expected either '[object String]', '[object Array]', or '[object Undefined]'. Found type '"+a+"'.")}if(t.length)break;if("[object Undefined]"!==(a=u.JSType(e.options.allowEmptyStartVector))&&"[object Boolean]"!==a){t.unshift("Options object property ~.options.allowEmptyStartVector is the wrong type. Expected either '[object Boolean]' or '[object Undefined]. Found type '"+a+"'.");break}if("[object Boolean]"==a&&(i.options.allowEmptyStartVector=e.options.allowEmptyStartVector),"[object Undefined]"!==(a=u.JSType(e.options.signalStart))&&"[object Boolean]"!==a){t.unshift("Options object property ~.options.signalStart is the wrong type. Expected either '[object Boolean]' or '[object Undefined]'. Found type '"+a+"'.");break}if("[object Boolean]"===a&&(i.options.signalStart=e.options.signalStart),"[object Undefined]"!==(a=u.JSType(e.options.traverseContext))&&"[object Object]"!==a){t.unshift("Options object property ~.options.traverseContext is the wrong type. Expected either '[object Object]' or '[object Undefined']. Found type '"+a+"'.");break}"[object Object]"===a&&(i.options.traverseContext=e.options.traverseContext)}if(u.setPropertyValueIfUndefined(i.options,"startVector",s),u.setPropertyValueIfUndefined(i.options,"allowEmptyStartVector",!1),u.setPropertyValueIfUndefined(i.options,"signalStart",!0),u.setPropertyValueIfUndefined(i.options,"traverseContext",n),!i.options.startVector.length&&!i.options.allowEmptyStartVector){t.unshift("Traversal aborted because we don't know which vertex to start on. Specify a graph that has at least one root vertex, explicity specify the start vertex (or vertices) via `request.options.startVector` array, or suppress this error by setting `request.options.allowEmptyStartVector` to Boolean true.");break}i.context=e.context,r.result=i}return t.length?r.error=t.join(" "):r.result=i,r}},80:(e,r,t)=>{"use strict";var s=t(151),a=t(364).DirectedGraph;e.exports=function(r){var t,e={error:null,result:null},i=[],o=new a,n=s.JSType(r);return"[object Object]"!==n?i.unshift("Expected reference to DirectedGraph but found type '"+n+"'."):(r.getVertices().forEach(function(e){(t=o.addVertex({u:e,p:r.getVertexProperty(e)})).error&&i.unshift(t.error)}),r.getEdges().forEach(function(e){(t=o.addEdge({e:{u:e.v,v:e.u},p:r.getEdgeProperty(e)})).error&&i.unshift(t.error)})),i.length?(i.unshift("jsgraph.directed.transpose failed:"),e.error=i.join(" ")):e.result=o,e}},754:(e,r,t)=>{"use strict";var a=t(151);e.exports=function(e){for(var r={error:null,result:null},t=[],i=!1;!i;){i=!0;var o=e.visitor[e.method],n=a.JSType(o);if("[object Function]"!==n){if("[object Undefined]"!==n){t.unshift(e.algorithm+" visitor interface method '"+e.method+"' is type '"+n+"' instead of '[object Function]' as expected.");break}r.result=!0;break}var s=o(e.request);switch(n=a.JSType(s),e.method){case"getEdgeWeight":r.result=s;break;case"compareEdgeWeights":"[object Number]"!==n?t.unshift(e.algorithm+" vistor interface error in callback function '"+e.method+"'. Function returned type '"+n+"' instead of expected '[object Number]'."):r.result=s;break;default:"[object Boolean]"!==n?t.unshift(e.algorithm+" visitor interface error in callback function '"+e.method+"'. Function returned type '"+n+"' instead of expected '[object Boolean]'."):r.result=s}break}return t.length&&(r.error=t.join(" ")),r}},480:(e,r,t)=>{"use strict";var n=t(151),i=e.exports={};i.exportObject=function(t){var i={name:t.getGraphName(),description:t.getGraphDescription(),vlist:[],elist:[]},o={};return t.getEdges(),t.getVertices(),t.getEdges().forEach(function(e){var r=t.getEdgeProperty(e);i.elist.push({e:e,p:r}),o[e.u]=o[e.v]=!0}),t.getVertices().forEach(function(e){var r=t.getVertexProperty(e);"[object Undefined]"!==n.JSType(r)?i.vlist.push({u:e,p:r}):!0!==o[e]&&i.vlist.push({u:e})}),i},i.exportJSON=function(e,r,t){return JSON.stringify(i.exportObject(e),r,t)}},946:e=>{"use strict";e.exports=function(r,e){for(var t,i=function(e){return Object.prototype.toString.call(e)},o={error:null,result:null},n=[],s=!1,a=function(e){"[object Object]"!==(c=i(e))?n.unshift("JSON semantics error: Expected vertex descriptor object in 'vlist' array but found '"+c+"' instead."):"[object String]"!==(c=i(e.u))?n.unshift("JSON semantics error: Expected vertex descriptor property 'u' to be a string but found '"+c+"' instead."):r.addVertex({u:e.u,p:e.p})},u=function(e){"[object Object]"!==(c=i(e))?n.unshift("JSON semantics error: Expected edge descriptor object in 'elist' array but found '"+c+"' instead."):"[object Object]"!==(c=i(e.e))?n.unshift("JSON semantics error: Edge record in 'elist' should define edge descriptor object 'e' but but found '"+c+"' instead."):"[object String]"!==(c=i(e.e.u))?n.unshift("JSON semantics error: Expected edge descriptor property 'e.u' to be a string but found '"+c+"' instead."):"[object String]"!==(c=i(e.e.v))?n.unshift("JSON semantics error: Expected edge descriptor property 'e.v' to be a string but found '"+c+"' instead."):r.addEdge({e:e.e,p:e.p})};!s;){s=!0;var c=i(e);switch(c){case"[object String]":try{t=JSON.parse(e)}catch(r){n.unshift("Exception occurred while parsing JSON: "+r.message)}break;case"[object Object]":t=e;break;default:n.unshift("Invalid reference to '"+c+"' passed instead of expected JSON (or equivalent object) reference.")}if(n.length)break;if("[object Object]"!==(c=i(t))){n.unshift("JSON semantics error: Expected top-level object but found '"+c+"'.");break}switch(c=i(t.name)){case"[object Undefined]":t.name="";break;case"[object String]":break;default:n.unshift("JSON semantics error: Expected 'name' to be a string but found '"+c+"'.")}switch(r.setGraphName(t.name),c=i(t.description)){case"[object Undefined]":t.description="";break;case"[object String]":break;default:error.unshift("JSON semantics error: Expected 'description' to be a string but found '"+c+"'.")}switch(r.setGraphDescription(t.description),c=i(t.vlist)){case"[object Undefined]":t.vlist=[];break;case"[object Array]":break;default:n.unshift("JSON semantics error: Expected 'vlist' (vertices) to be an array but found '"+c+"'.")}if(n.length)break;switch(c=i(t.elist)){case"[object Undefined]":t.elist=[];break;case"[object Array]":break;default:n.unshift("JSON semantics error: Expected 'elist' (edges) to be an array but found '"+c+"'.")}if(n.length)break;if(t.vlist.forEach(a),n.length)break;if(t.elist.forEach(u),n.length)break}return n.length?o.error=n.join(" "):o.result=!0,o}},81:(e,r,t)=>{"use strict";var o=t(151);e.exports={verifyVertexReadRequest:function(e){var r={error:null,result:!1},t=o.JSType(e);return"[object String]"!==t?r.error="Invalid value type '"+t+"' found when expecting vertex read request. Expected '[object String]'.":r.result=!0,r},verifyVertexWriteRequest:function(e){for(var r={error:null,result:!1},t=!1;!t;){t=!0;var i=o.JSType(e);if("[object Object]"!==i){r.error="Invalid value type '"+i+"' found when expecting a vertex write request object.";break}if("[object String]"!==(i=o.JSType(e.u))){r.error="Invalid value type '"+i+"' found looking for vertex ID string property 'u' in vertex write request object.";break}if("[object Function]"===(i=o.JSType(e.p))){r.error="Invalid value type '"+i+" found while inspecting vertex property 'p' in vertex write request object. Must be serializable to JSON!";break}r.result=!0}return r},verifyEdgeReadRequest:function(e){for(var r={error:null,result:!1},t=!1;!t;){t=!0;var i=o.JSType(e);if("[object Object]"!==i){r.error="Invalid value type '"+i+"' found when expecting edge read request object.";break}if("[object String]"!==(i=o.JSType(e.u))){r.error="Invalid value type '"+i+"' found looking for vertex ID string property 'u' in edge read request object.";break}if("[object String]"!==(i=o.JSType(e.v))){r.error="Invalid value type '"+i+"' found looking for vertex ID string property 'v' in edge read request object.";break}r.result=!0}return r},verifyEdgeWriteRequest:function(e){for(var r={error:null,result:!1},t=!1;!t;){t=!0;var i=o.JSType(e);if("[object Object]"!==i){r.error="Invalid value type '"+i+"' found when expecting edge write request object.";break}if("[object Object]"!==(i=o.JSType(e.e))){r.error="Invalid value type '"+i+"' found looking for edge descriptor object 'e' in edge write request object.";break}if("[object String]"!==(i=o.JSType(e.e.u))){r.error="Invalid value type '"+i+"' found looking for vertex ID string property 'e.u' in edge write request object.";break}if("[object String]"!==(i=o.JSType(e.e.v))){r.error="Invalid value type '"+i+"' found looking for vertex ID string property 'e.v' in edge write request object.";break}if("[object Function]"===(i=o.JSType(e.p))){r.error="Invalid value type '"+i+"' found while insecting edge property 'p' in edge write request object. Must be serializable to JSON!";break}r.result=!0}return r}}},506:(r,e,t)=>{"use strict";(function(){var e;e=t(705),r.exports={create:e}}).call(void 0)},705:(e,r,t)=>{"use strict";(function(){var s,a,u,c;a=t(256),u=t(702),c=t(86),s=t(450),e.exports=function(e){var r,t,i,o,n;for(n={error:null,result:null},r=[],i=!1;!i;){if(i=!0,(o=u(e)).error){r.unshift(o.error);break}if(null!=(t=o.result).inputFilterSpec&&t.inputFilterSpec&&(o=c({path:"~.inputFilterSpec",typemap:t.inputFilterSpec})).error){r.unshift(o.error);break}if(null!=t.outputFilterSpec&&t.outputFilterSpec&&(o=c({path:"~.outputFilterSpec",typemap:t.outputFilterSpec})).error){r.unshift(o.error);break}if((o=a.irut.fromReference(t.operationID+":input")).error){r.unshift(o.error);break}if(t.inputTypeVIID=o.result,(o=a.irut.fromReference(null!=t.inputFilterSpec&&t.inputFilterSpec||{____opaque:!0})).error){r.unshift(o.error);break}if(t.inputTypeVDID=o.result,(o=a.irut.fromReference(t.operationID+":output")).error){r.unshift(o.error);break}if(t.outputTypeVIID=o.result,(o=a.irut.fromReference(null!=t.outputFilterSpec&&t.outputFilterSpec||{____opaque:!0})).error){r.unshift(o.error);break}if(t.outputTypeVDID=o.result,(o=a.irut.fromReference(t.operationID+":"+t.inputTypeVDID+":"+t.outputTypeVDID)).error){r.unshift(o.error);break}t.operationVDID=o.result,Object.freeze(t),n.result=new s(t)}return r.length&&(r.unshift("Filter factory failure:"),n.error=r.join(" ")),n}}).call(void 0)},702:(e,r,t)=>{"use strict";(function(){var a,u;a=t(256),u=t(784),e.exports=function(e){var t,r,i,o,n,s;for(s={error:null,result:null},t=[],r=!1;!r&&(r=!0,(o=function(e){var r;return(r=u.check.inTypeSet({value:e.ref,types:e.types})).error?(t.unshift(r.error),t.unshift("Internal error while checking property '"+e.path+"'."),!1):!!r.result||(null!=e.suppressError&&e.suppressError||(t.unshift(r.guidance),t.unshift("Invalid data type specified for property '"+e.path+"'.")),!1)})({ref:e,path:"~",types:"jsObject"}))&&(n={},o({ref:e.operationID,path:"~.operationID",types:"jsString"}));){if("demo"===e.operationID)n.operationID=a.irut.fromEther();else{if((i=a.irut.isIRUT(e.operationID)).error){t.unshift(i.error),t.unshift("Internal error checking property '~.operationID'.");break}if(!i.result){t.unshift(i.guidance),t.unshift("Invalid IRUT specified for '~.operationID:");break}n.operationID=e.operationID}if(o({ref:e.operationName,path:"~.operationName",types:"jsString",suppressError:!0})?n.operationName=e.operationName:n.operationName="unnamed",o({ref:e.operationDescription,path:"~.operationDescription",types:"jsString",suppressError:!0})?n.operationDescription=e.operationDescription:n.operationDescription=n.operationID+" provides no description.",!o({ref:e.inputFilterSpec,path:"~.inputFilterSpec",types:["jsUndefined","jsObject"]}))break;if(n.inputFilterSpec=e.inputFilterSpec,!o({ref:e.outputFilterSpec,path:"~.outputFilterSpec",types:["jsUndefined","jsObject"]}))break;if(n.outputFilterSpec=e.outputFilterSpec,!o({ref:e.bodyFunction,path:"~.bodyFunction",types:["jsFunction","jsUndefined"]}))break;n.bodyFunction=e.bodyFunction,s.result=n}return t.length&&(s.error=t.join(" ")),s}}).call(void 0)},86:(e,r,t)=>{"use strict";(function(){var y,j;t(256),y=t(784),e.exports=function(e){var r,t,i,o,n,s,a,u,c,l,p,f,h,d,g,b,v,_;for(h={error:null,result:null},n=[],s=!1;!s;){if(s=!0,(a=y.check.inTypeSet({value:e,types:"jsObject"})).error){n.unshift(a.error);break}if(!a.result){n.unshift(a.guidance),n.unshift("Invalid request:");break}if((a=y.check.inTypeSet({value:e.path,types:"jsString"})).error){n.unshift(a.error);break}if(!a.result){n.unshift(a.guidance),n.unshift("Invalid request:");break}if((a=y.check.inTypeSet({value:e.typemap,types:"jsObject"})).error){n.unshift(a.error);break}if(!a.result){n.unshift(a.guidance),n.unshift("Invalid request:");break}for((l=[]).push(e);l.length;){for(u in i=void 0,_=!1,r=!1,f=!1,t=!1,o=!1,d=0,v=null!=(b=l.shift()).path&&b.path||"~",g=b.typemap)switch(c=g[u],u){case"____opaque":c&&(f=!0);break;case"____asMap":c&&(t=!0);break;case"____defaultValue":o=!0;break;case"____accept":if(_){n.unshift("Redundant type constraint declared on namespace '"+u+"'.");break}if((a=j("____accept",c)).error){n.unshift(a.error);break}r=!0,_=!0;break;case"____types":if(_){n.unshift("Redundant type constraint declared on namespace '"+u+"'.");break}if((a=j("____types",c)).error){n.unshift(a.error);break}_=!0;break;case"____label":case"____description":if((a=y.check.inTypeSet({value:c,types:["jsString"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+"':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+"':");break}break;case"____appdsl":if((a=y.check.inTypeSet({value:c,types:["jsObject"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+"':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+"':");break}break;case"____inValueSet":if((a=y.check.inTypeSet({value:c,types:["jsArray"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+"':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+"':");break}i=c;break;case"____inRangeInclusive":if((a=y.check.inTypeSet({value:c,types:["jsObject"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+"':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+"':");break}if((a=y.check.inTypeSet({value:c.begin,types:["jsNumber","jsString"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+".begin':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+".begin':");break}if((a=y.check.inTypeSet({value:c.end,types:["jsNumber","jsString"]})).error){n.unshift(a.error),n.unshift("Internal error checking directive '"+u+".end':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error checking directive '"+u+".end':");break}i=c;break;default:if(0===u.indexOf("____")){n.unshift("Unrecognized typemap directive '"+u+"' not allowed in declaration.");break}if((a=y.check.inTypeSet({value:c,types:["jsObject"]})).error){n.unshift(a.error),n.unshift("Internal error queuing typemap object '"+u+"':");break}if(!a.result){n.unshift(a.guidance),n.unshift("Error queuing typemap object '"+u+"':");break}p=v+"."+u,l.push({path:p,typemap:c}),d++}if(!n.length)for(s=!1;!s;){if(s=!0,r&&d){n.unshift("You cannot declare subnamespace filter spec(s) of a parent namespace declared using '____accept'.");break}if(t&&1!==d){n.unshift("Namespaces declared using '____asMap' set true must declare a single subnamespace declaration.");break}if(!_&&!f){n.unshift("Missing required '____accept', '____types', or '_____opaque' type constraint directive.");break}if(_&&f){n.unshift("You cannot specify '____accept' or '____types' constraints on an '____opaque' namespace.");break}if(f&&i){n.unshift("You cannot specify value-based constraints on an '____opaque' namespace.");break}if(_&&o&&-1!==g[r?"____accept":"____types"].indexOf("jsUndefined")){n.unshift("You cannot specifiy a default value on an optional namespace.");break}}if(n.length){n.unshift("While examining data namespace '"+v+"':");break}}}return n.length?h.error=n.join(" "):h.result=e.typemap,h},j=function(e,r){var t,i,o,n,s,a,u,c;for(s={error:null,result:null},t=[],i=!1;!i;){if(i=!0,(o=y.check.inTypeSet({value:r,types:["jsString","jsArray"]})).error){t.unshift(o.error),t.unshift("Internal error checking directive '"+e+"':");break}if(!o.result){t.unshift(o.guidance),t.unshift("Error checking directive '"+e+"':");break}if((a="jsString"===o.result?[r]:r).length){for(u=0,c=a.length;u<c;u++)if(n=a[u],(o=y.convert({to:"jsCode",from:"jsMoniker",value:n})).error){t.push(o.error);break}t.length?t.unshift("Error(s) in '"+e+"' directive declaration."):s.result=!0}else t.unshift("Type specification '"+e+"' directive is missing argument(s).")}return t.length&&(s.error=t.join(" ")),s}}).call(void 0)},450:(e,r,t)=>{"use strict";(function(){var c,l;t(256),l=t(600),c={____types:"jsObject",____label:"NF Response Object",____description:"Normalized Function (NF) response object.",error:{____types:["jsNull","jsString"],____label:"Error",____description:"A string explaining why response.result is null. Or, null if no error occurred.",____defaultValue:null},result:{____opaque:!0,____label:"Result",____description:"Untouched regardless of error. Valid per output filter spec iff ~error."}},Object.freeze(c),e.exports=function(){function e(e){var r,t;this.request=(r=this.request,t=this,function(){return r.apply(t,arguments)}),this.filterDescriptor=e,Object.freeze(this.filterDescriptor)}return e.prototype.request=function(e){var r,t,i,o,n,s,a,u;for(a={error:null,result:null},i=[],o=!1;!o;){if(o=!0,t="normalizing request input",(n=l({value:e,spec:this.filterDescriptor.inputFilterSpec})).error){i.unshift(n.error);break}if(this.filterDescriptor.bodyFunction){if(t="performing main operation",r=this.filterDescriptor.bodyFunction(n.result),(u=l({value:r,spec:c})).error){t="verifying response signature of main operation",i.unshift(u.error);break}if(a.result=r.result,r.error){i.unshift(r.error);break}}else r=n;if(t="normalizing response result",(s=l({value:r.result,spec:this.filterDescriptor.outputFilterSpec})).error){i.unshift(s.error);break}a.result=s.result}return i.length&&(i.unshift("Filter ["+this.filterDescriptor.operationID+"::"+this.filterDescriptor.operationName+"] failed while "+t+"."),a.error=i.join(" ")),a},e}()}).call(void 0)},600:(e,r,t)=>{"use strict";(function(){var I,T;t(256),I=t(784),T=["jsUndefined","jsNull","jsBoolean","jsNumber","jsString","jsFunction"],e.exports=function(e){var r,t,i,o,n,s,a,u,c,l,p,f,h,d,g,b,v,_,y,j,m,k,x,S,D,E,O,V,F,q;for(c=[],S={error:null,result:null},p=!1,l=void 0;!p;){if(p=!0,_=[],(h=I.check.inTypeSet({value:e,types:"jsObject"})).error&&c.unshift(h.error),h.result||c.unshift(h.guidance),c.length){c.unshift("Invalid request:");break}if((h=I.check.inTypeSet({value:e.spec,types:["jsObject","jsUndefined"]})).error&&c.unshift(h.error),h.result||c.unshift(h.guidance),c.length){c.unshift("Invalid request missing 'spec' declaration:");break}if("jsUndefined"===h.result){l=e.value;break}for(_.push({namespace:void 0,path:void 0,spec:e.spec,inputData:e.value,outputData:l});_.length;){if(O=null!=(E=_.shift()).path&&E.path||"~",D=E.spec,d=E.inputData,x=E.outputData,j=E.namespace,k=(h=I.check.inTypeSet({value:D.____opaque,types:"jsBoolean"})).result&&D.____opaque,a=!(h=I.check.inTypeSet({value:D.____defaultValue,types:"jsUndefined"})).result,t=(h=I.check.inTypeSet({value:D.____asMap,types:"jsBoolean"})).result&&D.____asMap,r=!1,k)!a||null!=d&&d||(h=I.check.inTypeSet({value:d,types:"jsUndefined"})).result&&a&&(d=D.____defaultValue);else{if(s=null,null!=D.____accept&&D.____accept?(r=!0,s="____accept"):s="____types",(h=I.check.inTypeSet({value:d,types:D[s]})).error){c.unshift(h.error);break}if(!h.result){if(!I.check.inTypeSet({value:d,types:"jsUndefined"}).result||!a){c.unshift(h.guidance);break}if((h=I.check.inTypeSet({value:D.____defaultValue,types:D[s]})).error){c.unshift(h.error),c.unshift("BAD DEFAULT VALUE!");break}if(!h.result){c.unshift(h.guidance),c.unshift("BAD DEFAULT VALUE!");break}d=D.____defaultValue}V=h.result}for(b in n=void 0,o=void 0,y=[],D){switch(v=D[b],b){case"____types":case"____accept":case"____opaque":case"____asMap":case"____defaultValue":break;case"____inValueSet":n=v;break;case"____inRangeInclusive":o=v;break;case"____label":case"____description":case"____appdsl":break;default:if("jsArray"===V)for(f=0,F=0,q=d.length;F<q;F++)u=d[F],y.push({namespace:f,path:O+"["+f+++"]",spec:v,inputData:u});else if("jsObject"===V&&t)for(g in d)u=d[g],y.push({namespace:g,path:O+"."+g,spec:v,inputData:u});else 0>T.indexOf(V)&&y.push({namespace:b,path:O+"."+b,spec:v,inputData:null!=d&&d&&d[b]})}if(c.length)break}if(c.length)break;if(null!=n&&n&&"jsUndefined"!==V&&-1===(f=n.indexOf(d))){c.unshift("Invalid value '"+d+"' not in allowed value set: ["+n.join(",")+"].");break}if(null!=o&&o&&"jsUndefined"!==V){if(d<o.begin){c.unshift("Invalid value '"+d+"' below allowed value range '"+o.begin+"','"+o.end+"'.");break}if(d>o.end){c.unshift("Invalid value '"+d+"' above allowed value range '"+o.begin+"','"+o.end+"'.");break}}if(c.length)break;if(i=void 0,k)i=d;else switch(V){case"jsObject":i=r&&d||{};break;case"jsArray":i=r&&d||[];break;default:i=d}for(m=null!=j&&j||"[object Number]"===Object.prototype.toString.call(j)?x[j]=i:l=i;"jsUndefined"!==V&&y.length;)(E=y.shift()).outputData=m,_.push(E)}if(c.length){c.unshift("Error at path '"+O+"':");break}}return c.length?S.error=c.join(" "):S.result=l,S}}).call(void 0)},543:(e,r,t)=>{"use strict";e.exports={directed:{create:t(364).createDirectedGraph,transpose:t(80),breadthFirstTraverse:t(646),depthFirstTraverse:t(129),colors:t(645),createTraversalContext:t(399)}}},151:e=>{"use strict";var o=function(e){return Object.prototype.toString.call(e)};e.exports={JSType:o,setPropertyValueIfUndefined:function(e,r,t){var i=o(e[r]);return"[object Undefined]"===i&&(i=o(t),e[r]="[object Function]"!==i?t:t(),!0)}}},256:(r,e,t)=>{"use strict";(function(){var e;(e=r.exports={}).hash=t(867),e.irut=t(279)}).call(void 0)},867:(e,r,i)=>{"use strict";(function(){var r,t;t=i(309),(r=e.exports={}).fromUTF8=function(e){var r;return r=Buffer.from(e,"utf-8").toString("ascii"),t(r)},r.fromReference=function(e){return r.fromUTF8(JSON.stringify(e))},r.toIRUT=function(e){var r,t,i;for((r=Buffer.alloc(4)).writeUInt32LE(e,0),i=r.toString("base64"),t=0;"="===i.charAt(i.length-t-1);)t++;return i.slice(0,i.length-t).replace(/\+/g,"-").replace(/\//g,"_")}}).call(void 0)},279:(r,e,t)=>{"use strict";(function(){var e,b,v,i;i=t(749).v4,b=t(309),v=t(784),(e=r.exports={}).fromEther=function(){var e,r,t;for(e=i(null,new Uint8Array(16,0)),t=(r=Buffer.from(e).toString("base64")).length;"="===r.charAt(t-1);)t--;return r.slice(0,t).replace(/\+/g,"-").replace(/\//g,"_")},e.fromReference=function(e){var r,t,i,o,n,s,a,u,c,l,p,f,h,d,g;for(o=[],g={error:null,result:null},s=!1;!s;){if(s=!0,(r=v.check.isJSON(e)).error){o.unshift(r.error);break}if(!r.result){o.unshift("Input reference must address top-level data convertible directly to JSON.");break}if(c="jsonString"===r.result&&e||JSON.stringify(e),!(l=Buffer.from(c,"utf-8").toString("ascii")).length){o.unshift("No data to hash!");break}for(l.length<64&&(l=Array(Math.ceil(64/l.length+1)).join(l)),i=Math.ceil(l.length/4),a=0,d=0,f=[];d<l.length;)t=l.substring(d,d+i),n=b(t),f[a]=255&n,f[a+4]=(65280&n)>>8,f[a+8]=(16711680&n)>>16,f[a+12]=(4278190080&n)>>24,d+=i,a++;for(p=Buffer.from(f).toString("base64"),u=0;"="===p.charAt(p.length-u-1);)u++;h=p.slice(0,p.length-u).replace(/\+/g,"-").replace(/\//g,"_"),g.result=h}return o.length&&(o.unshift("jbus common identifier IRUT generation failed:"),g.error=o.join(" ")),g},e.isIRUT=function(e){var r,t,i,o;for(o={error:null,guidance:null,result:null},t=[],i=!1;!i;){if(i=!0,(r=v.check.inTypeSet({value:e,types:"jsString"})).error){t.unshift(r.error);break}if(!r.result){o.guidance=r.guidance,o.result=!1;break}if(22!==e.length){o.guidance="Expected 22-character string. Found "+e.length+"-character string instead.",o.result=!1;break}if(null===e.match(/^([A-Z]|[a-z]|[0-9]|-|_){22}$/)){o.guidance="Expected only Base64 characters (substitute: '+' > '-', '/' > '_').",o.result=!1;break}o.result=!0}return t.length&&(t.unshift("jbus common IRUT identifier verification failed:"),o.error=t.join(" ")),o}}).call(void 0)},278:(e,r,t)=>{"use strict";(function(){var _,y;_=t(543),y=t(44),e.exports=function(e){var o,t,i,r,n,s,a,u,c,l,p,f,h,d,g,b,v;for(p={error:null,result:null},n=[],s=!1;!s;){if(s=!0,i=[],l=[],t=[],(u=_.directed.create(e.toJSON())).error){n.unshift(u.error);break}if(o=u.result,(u=_.directed.breadthFirstTraverse({digraph:o,visitor:{discoverVertex:function(e){var r;return(r=e.g.getVertexProperty(e.u)).filters.sort(),1===r.filters.length?(r.color="gold",r.filters1=[r.filters[0]]):e.g.outDegree(e.u)?r.color="gray":(r.color="black",r.filters1=[],t.push(e.u)),e.g.setVertexProperty({u:e.u,p:r}),i.push(e.u),!0}}})).error){n.unshift(u.error),n.unshift("Error during BFS of merged filter specification graph.");break}if("completed"===!u.result.searchStatus){n.unshift("BFS of merged filter specification graph did not complete as expected.");break}if(y.dictionaryLength(u.result.undiscoveredMap)){n.unshift("BFS of merged filter specification graph did not discover all vertices?");break}for(a=0;a<i.length;)l.push(i[i.length-a-1]),a++;for(a=0;a<l.length;)if(v=l[a++],"gold"!==(b=o.getVertexProperty(v)).color&&"black"!==b.color){switch(h={},o.outEdges(v).forEach(function(t){var i;if("black"!==(i=o.getVertexProperty(t.v)).color)return i.filters1.forEach(function(e){var r;return h[e],null!=r&&r||(r={nodes:{}}),r.nodes[t.v]=i.color,h[e]=r})}),g=[],r=[],b.filters.forEach(function(e){return null!=h[e]&&h[e]?g.push(e):r.push(e)}),d=b.color,g.length){case 0:d="black";break;case 1:d="gold";break;default:d="green"}b.filters1=g,b.color=d,o.setVertexProperty({u:v,p:b})}p.result={digraph:o,ambigousBlackVertices:t,ambiguousFilterSpecificationErrors:[]},(f=o.getVertexProperty("request")).filters.length!==f.filters1.length&&(c=[],t.length&&(t.sort(),t.forEach(function(e){var r;if("request"!==e)return r=o.getVertexProperty(e),c="Filters ["+r.filters.join(", ")+"] overlap ambiguously at filter spec node '"+e+"'."}),p.result.ambiguousFilterSpecificationErrors.push(c)));break}return n.length&&(p.error=n.join(" ")),p}}).call(void 0)},283:(t,e,i)=>{"use strict";(function(){var e,c,l,p,f,r;if(e=i(506),p=i(135),c=i(278),f=i(516),l=i(417),(r=e.create({operationID:"5A8uDJunQUm1w-HcBPQ6Gw",operationName:"Request Discriminator Filter Factory",operationDescription:"Manufactures a new Filter object that routes its request to 1:N registered sub-Filter objects based on analysis of the request signature.",inputFilterSpec:{____label:"Request Object",____description:"Discriminator filter factory request object.",____types:"jsObject",options:{____label:"Options Object",____description:"Factory options object.",____types:"jsObject",____defaultValue:{},action:{____label:"Action Flag",____description:"The action to be taken by the generated Discriminator Filter.",____accept:"jsString",____inValueSet:["getFilterID","getFilter","routeRequest"],____defaultValue:"getFilterID"}},filters:{____label:"Array of Filters",____description:"An array Filter objects that define the set of request signatures to be analyzed.",____types:"jsArray",filter:{____label:"Sub-Filter Object",____description:"Pre-constructed Filter object.",____types:"jsObject",filterDescriptor:{____accept:"jsObject"},request:{____accept:"jsFunction"}}}},bodyFunction:function(e){var r,t,i,o,n,s,a,u;for(s={error:null,result:null},t=[],i=!1;!i;){if(i=!0,e.filters.length<2){t.unshift("Invalid request. You must specify an array of two or more Filter objects to construct a Discriminator Filter.");break}if((o=p(e.filters)).error){t.unshift(o.error);break}if(n=o.result,(o=c(n.digraph)).error){t.unshift(o.error),t.unshift("Internal error analyzing input filter array: ");break}if((r=o.result).ambiguousFilterSpecificationErrors.forEach(function(e){return t.push(e)}),t.length)break;if((o=f(r.digraph)).error){t.unshift(o.error);break}if(u=o.result,(o=l.request({filterTable:n.filterTable,mergedDigraph:n.digraph,parseDigraph:u,options:e.options})).error){t.unshift(o.error);break}a=o.result,s.result=a;break}return t.length&&(s.error=t.join(" ")),s},outputName:"Type Desrimination Filter Output",outputDescriptor:"A generated Type Descriminator Filter.",outputFilterSpec:{____opaque:!0}})).error)throw new Error(r.error);t.exports=r.result}).call(void 0)},135:(e,r,t)=>{"use strict";(function(){var f,h,d;t(44),t(506),f=t(543),d="request",e.exports=function(e){var r,t,i,o,n,s,a,u,c,l,p;for(a={error:null,result:null},r=[],n=!1;!n;){if(n=!0,u={digraph:null,filterTable:{}},(s=f.directed.create({name:"Discriminator Decision Tree Model"})).error){r.unshift(s.error);break}for(u.digraph=s.result,u.digraph.addVertex({u:d,p:{color:"white"}}),o=[],l=0,p=e.length;l<p;l++){if(i=(t=e[l]).filterDescriptor.operationID,null!=u.filterTable[i]&&u.filterTable[i]){r.unshift("Check to ensure all filters declare a unique operation ID (IRUT) and that no filter appears more than once in the input array."),r.unshift("Filter '"+i+"::"+t.filterDescriptor.operationName+"' uses an invalid duplicate operation ID!");break}if((s=h({filter:t,graph:u.digraph})).error){r.unshift(s.error);break}u.filterTable[t.filterDescriptor.operationID]=t,o.push(t.filterDescriptor.operationID)}if(r.length){r.unshift("Unable to build merged filter specification digraph model.");break}(c=u.digraph.getVertexProperty(d)).filters=o,u.digraph.setVertexProperty({u:d,p:c}),u.digraph.setGraphDescription("Models the combined input filter specifications of Filter ID's: ["+o.join(", ")+"]."),a.result=u;break}return r.length&&(a.error=r.join(" ")),a},h=function(e){var r,t,i,o,n,s,a,u,c,l,p,f,h;for(s={error:null,result:null},t=!1,n=e.filter.filterDescriptor.operationID;!t;)for(t=!0,(o=[]).push({parentVertex:d,parentNamespaceName:"",path:"request",namespaceDescriptor:e.filter.filterDescriptor.inputFilterSpec});o.length;)if(c=null,r=!0,null!=(i=o.shift()).namespaceDescriptor&&i.namespaceDescriptor)if(i.namespaceDescriptor.____opaque);else if(null!=i.namespaceDescriptor.____types&&i.namespaceDescriptor.____types?(c=i.namespaceDescriptor.____types,"[object String]"===Object.prototype.toString.call(c)&&(c=[c])):null!=i.namespaceDescriptor.____accept&&i.namespaceDescriptor.____accept&&(c=i.namespaceDescriptor.____accept,"[object String]"===Object.prototype.toString.call(c)&&(c=[c]),r=!1),c.indexOf("jsUndefined")>-1);else if(null==i.namespaceDescriptor.____defaultValue||!i.namespaceDescriptor.____defaultValue&&null!==i.namespaceDescriptor.____defaultValue)for(f=0,h=c.length;f<h;f++)if(u=c[f],l=i.parentVertex+i.parentNamespaceName+"("+u+")",e.graph.isVertex(l)?((p=e.graph.getVertexProperty(l)).filters.push(n),e.graph.setVertexProperty({u:l,p:p})):e.graph.addVertex({u:l,p:{filterSpecPath:i.path,filters:[n],color:"white",typeConstraint:u}}),e.graph.addEdge({e:{u:i.parentVertex,v:l}}),r&&"jsUndefined"!==u&&"jsArray"!==u)for(a in i.namespaceDescriptor)0!==a.indexOf("____")&&o.push({parentVertex:l,parentNamespaceName:"."+a,path:i.path+"."+a,namespaceDescriptor:i.namespaceDescriptor[a]});return s}}).call(void 0)},417:(r,e,t)=>{"use strict";(function(){var s,a,y,u,e;if(a=t(256),s=t(506),t(784),y=t(913),u={getFilterID:"Retrieves the filter identifier of the subfilter to which this request should be routed.",getFilter:"Retrieves a reference to the subfilter that should be used to process this request.",routeRequest:"Routes the request to one of N subfilters based on request signature analysis."},(e=s.create({operationID:"nIcFGxZeQia9GCBFbpiDZQ",operationName:"Discriminator Filter Factory",operationDescription:"Generates and returns a Discriminator Filter object.",inputFilterSpec:{____types:"jsObject",filterTable:{____accept:"jsObject"},mergedDigraph:{____accept:"jsObject"},parseDigraph:{____accept:"jsObject"},options:{____label:"Options Object",____description:"Factory options object.",____types:"jsObject",____defaultValue:{},action:{____label:"Action Flag",____description:"The action to be taken by the generated Discriminator Filter.",____accept:"jsString",____inValueSet:["getFilterID","getFilter","routeRequest"],____defaultValue:"getFilterID"}}},bodyFunction:function(e){var r,h,t,d,g,i,b,v,o,n,_;for(b={error:null,result:null},h=[],g=!1,v=e;!g;){for(d in g=!0,n=[],_=[],v.filterTable)n.push(d),t=v.filterTable[d],_.push("["+d+"::"+t.filterDescriptor.operationName+"]");if(n=_.sort(function(e,r){var t,i;return null!=(t=e.operationName<r.operationName)?t:-{1:null!=(i=e.operationName===r.operationName)?i:{0:1}}}).join("-"),r=a.irut.fromReference(n).result,(i=s.create({operationID:r,operationName:"Discriminator Filter",operationDescription:u[e.options.action],bodyFunction:function(e){var r,t,i,o,n,s,a,u,c,l,p,f;for(b={error:null,response:null},h=[],g=!1;!g;){for(g=!0,s={request:e},i="request",d=null;!d&&!h.length;){for(v.parseDigraph.getVertexProperty(i),a=v.parseDigraph.outEdges(i),n=0,t=!0;!d&&!h.length&&n<a.length&&t;){if(o=a[n],p=(f=v.parseDigraph.getVertexProperty(o.v)).typeConstraint,c=(u=f.filterSpecPath.split("."))[u.length-1],(r=y(c,p,s)).error){h.unshift(r.error);break}r.result.pass?f.filterID?d=f.filterID:(t=!1,i=o.v,s=r.result.reference):n++}n===a.length&&(h.push("Unrecognized request format."),h.push("Request signature must match one of filter set"),h.push("{"+_.join(", ")+"}."))}if(!h.length)switch(v.options.action){case"getFilterID":b.result=d;break;case"getFilter":b.result=v.filterTable[d];break;case"routeRequest":(l=v.filterTable[d].request(e)).error?h.unshift(l.error):b.result=l.result;break;default:h("Internal error unrecognized discriminator action '"+v.options.action+"'.")}break}return h.length&&(b.error=h.join(" ")),b}})).error){h.unshift(i.error);break}(o=i.result).supportedFilters=_,o.requestSpace=e.mergedDigraph,o.options=v.options,b.result=i.result;break}return h.length&&(b.result=h.join(" ")),b}})).error)throw new Error("Cannot load module due to error: "+e.error);r.exports=e.result}).call(void 0)},913:(e,r,t)=>{"use strict";(function(){var s;s=t(784),e.exports=function(e,r,t){var i,o,n;return n={error:null,result:null},o=t[e],(i=s.check.inTypeSet({value:o,types:r})).error?(n.error=i.error,n):(i.result?n.result={pass:!0,reference:o}:n.result={pass:!1,reference:void 0},n)}}).call(void 0)},516:(e,r,t)=>{"use strict";(function(){var o;o=t(543),t(44),t(256),e.exports=function(e){var n,r,t,i,s,a;for(i={error:null,result:null},n=[],r=!1;!r;){if(r=!0,"green"!==(a=e.getVertexProperty("request")).color){n.unshift("Invalid ambiguity model digraph. The root vertex should be color 'green' but is '"+a.color+"'.");break}if((t=o.directed.create({name:"Discriminator Runtime Parse Digraph"})).error){n.unshift(t.error);break}if((s=t.result).addVertex({u:"request"}),t=o.directed.breadthFirstTraverse({digraph:e,visitor:{examineEdge:function(e){var r,t,i,o;switch(t=!0,a=e.g.getVertexProperty(e.e.u),o=e.g.getVertexProperty(e.e.v),r=a.color+":"+o.color){case"green:green":(i={}).filterSpecPath=o.filterSpecPath,i.typeConstraint=o.typeConstraint,s.addVertex({u:e.e.v,p:i}),s.addEdge({e:e.e});break;case"green:gold":(i={}).filterSpecPath=o.filterSpecPath,i.typeConstraint=o.typeConstraint,i.filterID=o.filters[0],s.addVertex({u:e.e.v,p:i}),s.addEdge({e:e.e});break;case"green:black":case"black:black":case"gold:gold":break;default:n.push("Illegal input digraph edge color hash '"+r+"'"),n.push("at edge ['"+e.e.u+"' -> '"+e.e.v+"']."),t=!1}return t}}}),n.length)break;t.error&&n.unshift(t.error),i.result=s;break}return n.length&&(i.error=n.join(" ")),i}}).call(void 0)},784:(r,e,t)=>{"use strict";(function(){var e;(e={}).common={},e.common.types=r.exports={},e.common.types.codes=t(606),e.common.types.convert=t(605),e.common.types.check=t(802)}).call(void 0)},802:(r,e,t)=>{"use strict";(function(){var e,a;t(606),t(968),a=t(605),(e={}).inTypeSet=function(e){var r,t,i,o,n,s;for(t=[],o={error:null,guidance:null,result:null},i=!1;!i;){if(i=!0,null==e||null==e){t.unshift("Missing request object in-parameter.");break}if((r=a({to:"jsTypeString",from:"jsReference",value:e})).error){t.unshift(r.error);break}if("[object Object]"!==r.result){t.unshift("Invalid request: Expected value of type '[object Object]' but found '"+r.result+"' instead.");break}if((r=a({to:"jsMoniker",from:"jsReference",value:e.value})).error){t.unshift(r.error);break}if(s=r.result,(r=a({to:"jsMoniker",from:"jsReference",value:e.types})).error){t.unshift(r.error);break}switch(n=r.result){case"jsString":o.result=e.types===s&&s||!1;break;case"jsArray":o.result=-1!==e.types.indexOf(s)&&s||!1;break;default:t.unshift("Invalid request.types value type '"+n+"'. Expected either '[object String]' (jsMoniker string) or '[object Array]' (of jsMoniker strings).")}if(t.length)break;o.result||(o.guidance="Value of type '"+s+"' not in allowed type set ["+e.types+"].")}return t.length&&(t.unshift("Type in set check failed:"),o.error=t.join(" ")),o},e.isJSON=function(e){var r,t,i,o;for(t=[],o={error:null,guidance:null,result:null},i=!1;!i;){if(i=!0,(r=a({to:"jsonMoniker",from:"jsReference",value:e})).error){o.guidance=r.error,o.result=!1;break}o.result=r.result}return t.length&&(t.unshift("JSON check failed:"),o.error=t.join(" ")),o},r.exports=e}).call(void 0)},606:r=>{"use strict";(function(){var e;e={__undefined:0,__null:1,__boolean:2,__string:3,__number:4,__object:5,__array:6,__function:7,__GUARD:8},Object.freeze(e),r.exports=e}).call(void 0)},605:(r,e,t)=>{"use strict";(function(){var e,l,p;l=t(606),p=t(968),e=function(e){var r,t,i,o,n,s,a,u,c;for(r=[],s={error:null,result:null},i=!1;!i;){if(i=!0,null==e||!e){r.unshift("Missing request object.");break}if("[object Object]"!==Object.prototype.toString.call(e)){r.unshift("Invalid request value type. Expected reference to '[object Object]'.");break}if(n={},null==e.from||!e.from){r.unshift("Invalid request missing 'from' property.");break}if("[object String]"!==Object.prototype.toString.call(e.from)){r.unshift("Invalid request 'from' value type. Expected reference to '[object String]'.");break}if(n.from=e.from,null==e.to||!e.to){r.unshift("Invalid request missing 'to' property.");break}if("[object String]"!==Object.prototype.toString.call(e.to)){r.unshift("Invalid request 'to' value type. Expected reference to '[object String]'.");break}switch(n.to=e.to,c=Object.prototype.toString.call(e.value),t=!0,a=void 0,n.from){case"jsReference":a={to:n.to,from:"jsTypeString",value:c},t=!1;break;case"jsCode":if("[object Number]"!==c){r.unshift("Invalid request 'value' type. Expected reference to '[object Number]'.");break}(e.value<0||e.value>=l.__GUARD)&&r.unshift("Invalid request 'value' '"+e.value+"' is not a valid 'jsCode' value.");break;case"jsMoniker":"[object String]"!==c&&r.unshift("Invalid request 'value' type. Expected reference to '[object String]'."),t=!1;break;default:r.unshift("["+p.dimensions+"]."),r.unshift("Invalid request 'from' value '"+n.from+"' is not a valid dimension string. Valid dimensions:")}if(r.length)break;if(null!=a&&a?n=a:n.value=e.value,null==(u=p[t&&n.to||n.from])||!u){r.unshift("["+p.dimensions+"]."),r.unshift("No conversion operator from '"+n.from+"' to '"+n.to+"' available. Valid dimensions:");break}if(t)o=u[n.value];else{if(-1===(o=u.indexOf(n.value))){r.unshift("["+p.dimensions+"]."),r.unshift("Invalid request 'value' specifies unknown "+n.to+" '"+n.value+"'. Valid dimensions:");break}if("jsCode"!==n.to){if(null==(u=p[n.to])||!u){r.unshift("Valid dimensions: ["+p.dimensions+"]."),r.unshift("No conversion to '"+n.to+"' available.");break}if(null==(o=u[o])||!o){r.unshift("No coversion from dimension '"+n.from+"' to '"+n.to+"' for value '"+n.value+"'.");break}}}s.result=o}return r.length&&(r.unshift("Type conversion failed:"),s.error=r.join(" ")),s},r.exports=e}).call(void 0)},968:(i,e,o)=>{"use strict";(function(){var e,r,t;for(t=o(606),(e={}).dimensions=["jsReference","jsCode","jsTypeString","jsMoniker","jsonMoniker"],e.jsTypeString=[],e.jsTypeString[t.__undefined]="[object Undefined]",e.jsTypeString[t.__null]="[object Null]",e.jsTypeString[t.__boolean]="[object Boolean]",e.jsTypeString[t.__string]="[object String]",e.jsTypeString[t.__number]="[object Number]",e.jsTypeString[t.__object]="[object Object]",e.jsTypeString[t.__array]="[object Array]",e.jsTypeString[t.__function]="[object Function]",e.jsMoniker=[],e.jsMoniker[t.__undefined]="jsUndefined",e.jsMoniker[t.__null]="jsNull",e.jsMoniker[t.__boolean]="jsBoolean",e.jsMoniker[t.__string]="jsString",e.jsMoniker[t.__number]="jsNumber",e.jsMoniker[t.__object]="jsObject",e.jsMoniker[t.__array]="jsArray",e.jsMoniker[t.__function]="jsFunction",e.jsonMoniker=[],e.jsonMoniker[t.__undefined]=null,e.jsonMoniker[t.__null]="jsonNull",e.jsonMoniker[t.__boolean]="jsonBoolean",e.jsonMoniker[t.__string]="jsonString",e.jsonMoniker[t.__number]="jsonNumber",e.jsonMoniker[t.__object]="jsonObject",e.jsonMoniker[t.__array]="jsonArray",e.jsonMoniker[t.__function]=null,e.jsCodes={},r=0;r<t.__GUARD;)e.jsCodes[e.jsMoniker[r]]=r++;Object.freeze(e),i.exports=e}).call(void 0)},44:e=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){var o;(o={}).deepCopy=function(e){var r,t,i;if(null==e||"object"!==n(e))return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return r="",null!=e.global&&(r+="g"),null!=e.ignoreCase&&(r+="i"),null!=e.multiline&&(r+="m"),null!=e.sticky&&(r+="y"),new RegExp(e.source,r);for(i in t=new e.constructor,e)t[i]=o.deepCopy(e[i]);return t},o.clone=function(e){return o.deepCopy(e)},o.dictionaryLength=function(e){return Object.keys(e).length},o.getEpochTime=function(){return Math.round((new Date).getTime()/1e3)},e.exports=o}).call(void 0)},549:e=>{"use strict";e.exports={____label:"Discriminator Factory Request",____description:"A descriptor object passed to the @encapsule/arccore.discriminator.create filter factory function to synthesize a specialized discriminator filter instance.",____types:"jsObject",id:{____label:"Discriminator Identifier",____description:"A 22-character IRUT identifier that the newly created @encapsule/arccore.discriminator filter will use as its operationID.",____accept:"jsString"},name:{____label:"Discriminator Name",____accept:"jsString"},description:{____label:"Discrminator Description",____accept:"jsString"},options:{____label:"Options Object",____description:"Factory options object.",____types:"jsObject",____defaultValue:{},action:{____label:"Action Flag",____description:"The action to be taken by the generated Discriminator Filter.",____accept:"jsString",____inValueSet:["getFilterID","getFilter","routeRequest"],____defaultValue:"getFilterID"}},filters:{____types:"jsArray",____defaultValue:[],filter:{____accept:"jsObject"}}}},229:(r,e,t)=>{"use strict";!function(){var l={filter:t(506),graph:t(543),types:t(784)},c=t(201),p=t(964),f=t(165),e=l.filter.create({operationID:"jNWiDDr0Tie_1fskDUa7XQ",operationName:"Request Discriminator Filter Factory",operationDescription:"This filter synthesizes and returns a discriminator filter specialized on N input filters.",inputFilterSpec:t(549),outputFilterSpec:{____accept:"jsObject"},bodyFunction:function(n){for(var s={error:null},a=[],u=!1,e=function(){u=!0;var e=c.request(n);if(e.error)return a.push(e.error),"break";var r=e.result;if((e=p.request(r)).error)return a.push(e.error),"break";var t=e.result;if((e=f.request(t)).error)return a.push(e.error),"break";var i=e.result;if((e=l.filter.create({operationID:n.id,operationName:"".concat(n.name," Request Discriminator"),operationDescription:'Specialized @encapsule/arccore.discriminator filter instance: "'.concat(n.description,'".'),inputFilterSpec:{____opaque:!0},outputFilterSpec:{____opaque:!0},bodyFunction:function(e){var c=i.runtimeDiscriminatorModel,r=function e(r,t){var i=l.types.convert({from:"jsReference",to:"jsMoniker",value:r});if(i.error)return i;var o=i.result,n=c.getVertexProperty(t);if(n[o])return{error:null,result:n[o]};if("jsObject"===o)for(var s=c.outEdges(t).map(function(e){return e.v});s.length;){var a=s.pop(),u=a.split(".");if((i=e(r[u[u.length-1]],a)).error||i.result)return i}return{error:null,result:null}}(e,"~");if(r.error)return r;if(!r.result)return{error:"Sorry. There is no filter registered that will accept a request of the provided type.",result:c};var t=null;switch(n.options.action){case"getFilterID":t=r;break;case"getFilter":t={error:null,result:i.filters[r.result]};break;case"routeRequest":t=i.filters[r.result].request(e);break;default:t={error:'Internal error: unhandled options.action value "'.concat(n.options.action,'".')}}return t}})).error)return a.push(e.error),"break";var o=e.result;return s.result=o,"break"};!u&&"break"!==e(););return a.length&&(s.error=a.join(" ")),s}});if(e.error)throw new Error(e.error);r.exports=e.result}()},964:(t,e,i)=>{"use strict";!function(){var n={filter:i(506),graph:i(543)},e=i(555),r=n.filter.create({operationID:"RHDfGJZETgyNidDpcLHnpw",operationName:"Message Discriminator Feature Model Factory",operationDescription:"Accepts a merged filter spec model (digraph) and produces a model (digraph) of message features that uniquely identify each of N request type(s) from one another.",inputFilterSpec:e,outputFilterSpec:e,bodyFunction:function(e){for(var r={error:null},t=[],i=!1;!i;){i=!0;var o=n.graph.directed.depthFirstTraverse({digraph:e.digraph,context:{tsCount:0},visitor:{initializeVertex:function(e){var r=e.g.getVertexProperty(e.u);return r.height=0,r.ts={d:-1,f:-1},!0},treeEdge:function(e){var r=e.g.getVertexProperty(e.e.u);return e.g.getVertexProperty(e.e.v).height=r.height+1,!0},discoverVertex:function(e){var r=e.g.getVertexProperty(e.u),i=r.typeScoreboard,o=i.inDegree("isOpaque")>0,t=i.outEdges("FILTERS").map(function(e){return e.v}),n={};return t.forEach(function(e){if(o||i.isEdge({u:e,v:"jsUndefined"})||i.isEdge({u:e,v:"isDefaulted"}))n[e]="white";else{var r=i.outEdges(e).map(function(e){return e.v}),t=-1;r.forEach(function(e){var r=i.inDegree(e);switch(e){case"jsFunction":case"jsArray":case"jsNumber":case"jsNull":case"jsBoolean":case"jsString":case"jsMapObject":t<r&&(t=r);break;case"jsDescriptorObject":break;default:throw new Error('Unexpected typeConstraint value "'.concat(e,'".'))}}),t>1?n[e]="gray":i.inDegree("jsDescriptorObject")<1?n[e]="gold":i.inDegree("jsMapObject")>0?n[e]="chalk":n[e]=i.isEdge({u:e,v:"jsDescriptorObject"})?1===i.inDegree("jsDescriptorObject")?"gold":"sage":"gold"}}),r.filterColorMap=n,r.ts.d=e.context.tsCount++,!0},finishVertex:function(t){var e=t.g.getVertexProperty(t.u),i=e.filterColorMap,o=null,r=function(r){"sage"===i[r]&&(i[r]="smoke",null===o&&(o=t.g.outEdges(t.u).map(function(e){return e.v})),o.forEach(function(e){switch(t.g.getVertexProperty(e).filterColorMap[r]){case"gold":case"green":i[r]="green"}}))};for(var n in i)r(n);return e.ts.f=t.context.tsCount++,!0}}});if(o.error){t.push(o.error);break}if("completed"!==o.result.searchStatus){t.push('Unexpected depth-first traversal status==="'.concat(o.result.searchStatus,'".'));break}e.digraph.setGraphName("[".concat(e.id,"::").concat(e.name,"] Filter Set Input Constraints Features Model")),e.digraph.setGraphDescription("Digraph model of ".concat(e.filters.length," filter object input specs analyzed to identify unambiguous namespace/name type features.")),r.result=e;break}return t.length&&(r.error=t.join(" ")),r}});if(r.error)throw new Error(r.error);t.exports=r.result}()},201:(r,e,t)=>{"use strict";!function(){var p={filter:t(506),graph:t(543)},e=p.filter.create({operationID:"7WtZ3CGLROGWSEDeA-jU6Q",operationName:"Merged Filter Spec Model Factory",operationDescription:"Accepts an array of @encapsule/arccore.filter objects and returns a digraph-encoded model that represents their merged input filter specifications.",inputFilterSpec:t(549),outputFilterSpec:t(555),bodyFunction:function(a){for(var u={error:null,result:{digraph:null,filters:{}}},c=[],e=!1;!e;){if(e=!0,!a.filters.length){c.push("You must include at least one filter in the request.filters array to construct a discriminator instance.");break}var l=p.graph.directed.create({name:"[".concat(a.id,"::").concat(a.name,"] Filter Set Input Constraints Model"),description:"Digraph model of ".concat(a.filters.length," filter object input specs merged together for analysis.")});if(l.error){c.push(l.error);break}u.result.digraph=l.result;var r=function(e){var n=a.filters[e];if(!n.request||!n.filterDescriptor)return c.push("Value specified for filters[".concat(e,"] does not appear to be a filter object as expected?")),"break";if(u.result.filters[n.filterDescriptor.operationID])return c.push('Illegal duplicate filter.filterDescriptor.operationID="'.concat(n.filterDescriptor.operationID,'" discovered in input request array.')),"break";for(var s=[{parentRefPath:null,specRefPath:"~",specRef:n.filterDescriptor.inputFilterSpec}],r=function(){var e=s.shift(),r={typeConstraints:[],processSubnamespaces:!1,asMap:!1,isOpaque:!1,isOptional:!1,isDefaulted:!1};if(r.isOpaque=void 0===e.specRef||!0===e.specRef.____opaque,!r.isOpaque){if(r.asMap=!!e.specRef.____asMap,e.specRef.____types?(r.typeConstraints=Array.isArray(e.specRef.____types)?e.specRef.____types:[e.specRef.____types],r.processSubnamespaces=!0):e.specRef.____accept&&(r.typeConstraints=Array.isArray(e.specRef.____accept)?e.specRef.____accept:[e.specRef.____accept]),!r.typeConstraints.length)return c.push("Cannot resolve types/accept constraints?"),"break";r.isOptional=r.typeConstraints.indexOf("jsUndefined")>-1,r.isDefaulted=void 0!==e.specRef.____defaultValue}if(!u.result.digraph.isVertex(e.specRefPath)){if((l=p.graph.directed.create({name:"[".concat(a.id,"::").concat(a.name,"](").concat(e.specRefPath,")"),description:"Digraph model of type constraint(s) declared by filter(s) for merged request namespace '".concat(e.specRefPath,"'.")})).error)return c.push(l.error),"break";var t=l.result;u.result.digraph.addVertex({u:e.specRefPath,p:{typeScoreboard:t}})}var i=u.result.digraph.getVertexProperty(e.specRefPath).typeScoreboard;if(i.addEdge({e:{u:"FILTERS",v:n.filterDescriptor.operationID}}),r.isOpaque?i.addEdge({e:{u:n.filterDescriptor.operationID,v:"isOpaque"}}):(r.typeConstraints.forEach(function(e){"jsObject"===e?i.addEdge({e:{u:n.filterDescriptor.operationID,v:r.asMap?"jsMapObject":"jsDescriptorObject"}}):i.addEdge({e:{u:n.filterDescriptor.operationID,v:e}})}),r.isDefaulted&&i.addEdge({e:{u:n.filterDescriptor.operationID,v:"isDefaulted"}})),null!==e.parentRefPath&&u.result.digraph.addEdge({e:{u:e.parentRefPath,v:e.specRefPath}}),r.processSubnamespaces)for(var o in e.specRef)o.startsWith("____")||s.push({parentRefPath:e.specRefPath,specRefPath:"".concat(e.specRefPath,".").concat(o),specRef:e.specRef[o]})};s.length&&"break"!==r(););if(c.length)return"break";u.result.filters[n.filterDescriptor.operationID]=n};for(var t in a.filters)if("break"===r(t))break;if(c.length)break;u.result.id=a.id,u.result.name=a.name,u.result.description=a.description;break}return c.length&&(u.error=c.join(" ")),u}});if(e.error)throw new Error(e.error);r.exports=e.result}()},555:(e,r,t)=>{"use strict";function i(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,i)}return t}function o(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach(function(e){n(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}e.exports=o(o({},t(549)),{},{____label:"Merged Filter Spec Model Descriptor",____description:"An object that models a forest of N filter spec object trees.",____types:"jsObject",digraph:{____accept:"jsObject"},filters:{____types:"jsObject",____asMap:!0,operationID:{____label:"Filter Object",____accept:"jsObject"}}})},165:(t,e,i)=>{"use strict";function o(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,i)}return t}function d(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach(function(e){n(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(){var h={filter:i(506),graph:i(543)},e=i(555),r=h.filter.create({operationID:"sCpSMi4fTOW_Lbl5_GXnPA",operationName:"Message Descriminator Runtime Model Factory",operationDescription:"This filter generates a directed graph that models essential features of N distinguishable filter request messages in terms of their essential (as in required value of defined type) namespace name/type constraint trees.",inputFilterSpec:e,outputFilterSpec:{____opaque:!0},bodyFunction:function(c){for(var l={error:null},p=[],f=!1,e=function(){f=!0;var i={},o={},e=h.graph.directed.breadthFirstTraverse({digraph:c.digraph,visitor:{discoverVertex:function(e){return console.log('discoverVertex: u="'.concat(e.u,'"')),!0},examineVertex:function(e){console.log('examineVertex: u="'.concat(e.u,'"'));var r=e.g.getVertexProperty(e.u).filterColorMap;for(var t in r)"gold"!==r[t]||i[t]||(i[t]=e.u,o[e.u]||(o[e.u]=[]),o[e.u].push(t));return!0}}});if(e.error)return p.push("Unable to analyze the feature model due to error:"),p.push(e.error),"break";if("completed"!==e.result.searchStatus)return p.push('Unexpected depth-first traversal status==="'.concat(e.result.searchStatus,'" while analyzing feature model..')),"break";if(Object.keys(i).length!==Object.keys(c.filters).length){var r=c.digraph.getVertexProperty("~").filterColorMap,t=[];for(var n in r)switch(r[n]){case"gold":case"green":break;default:t.push(n)}p.push("Cannot construct new discriminator due to request space namespace name / type constraint overlaps. Issues detected w/the following filter(s):"),p.push(t.map(function(e){return"[".concat(e,"::").concat(c.filters[e].filterDescriptor.operationName,"](").concat(r[e],")")}).join(", "))}if(p.length)return l.result=d(d({},c),{},{resolvedFilters:i,resolvedNamespaces:o}),"break";var s=h.graph.directed.create({name:"[".concat(c.id,"::").concat(c.name,"] Filter Set Runtime Discriminator Model"),description:"Digraph model of ".concat(c.filters.length," filter object input specs merged together for analysis.")});if(s.error)return p.push(s.error),"break";var a=s.result;if((s=h.graph.directed.transpose(c.digraph)).error)return p.push(s.error),"break";var u=s.result;return(e=h.graph.directed.depthFirstTraverse({digraph:u,options:{startVector:Object.keys(o),signalStart:!1},visitor:{discoverVertex:function(e){var i={};if(o[e.u]){var r=c.digraph.getVertexProperty(e.u);o[e.u].forEach(function(t){r.typeScoreboard.outEdges(t).forEach(function(e){var r="jsDescriptorObject"===e.v||"jsMapObject"===e.v?"jsObject":e.v;i[r]=t})})}return a.addVertex({u:e.u,p:i}),!0},examineEdge:function(e){return a.addEdge({e:{u:e.e.v,v:e.e.u}}),!0}}})).error?(p.push(e.error),"break"):"completed"!==e.result.searchStatus?(p.push('Unexpected depth-first traversal status==="'.concat(e.result.searchStatus,'" while trying to build the runtime model.')),"break"):(l.result=d(d({},c),{},{resolvedFilters:i,resolvedNamespaces:o,runtimeDiscriminatorModel:a}),"break")};!f&&"break"!==e(););return p.length&&(l.error=p.join(" ")),l}});if(r.error)throw new Error(r.error);t.exports=r.result}()},309:(e,r,t)=>{var i=t(479),o=t(925);e.exports=i,e.exports.murmur3=i,e.exports.murmur2=o},925:e=>{e.exports=function(e,r){for(var t,i=e.length,o=r^i,n=0;i>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+((1540483477*(t>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),i-=4,++n;switch(i){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}},479:e=>{e.exports=function(e,r){var t,i,o,n,s,a,u,c;for(t=3&e.length,i=e.length-t,o=r,s=3432918353,a=461845907,c=0;c<i;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=27492+(65535&(n=5*(65535&(o=(o^=u=(65535&(u=(u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(u=0,t){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:o^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*a+(((u>>>16)*a&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}},749:(e,r,t)=>{"use strict";t.r(r),t.d(r,{NIL:()=>k,parse:()=>p,stringify:()=>h,v1:()=>l,v3:()=>y,v4:()=>j,v5:()=>m,validate:()=>u,version:()=>x});const i=require("crypto");var o=t.n(i);const n=new Uint8Array(256);let s=n.length;function f(){return s>n.length-16&&(o().randomFillSync(n),s=0),n.slice(s,s+=16)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(e){return"string"==typeof e&&a.test(e)},c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).substr(1));const h=function(e,r=0){const t=(c[e[r+0]]+c[e[r+1]]+c[e[r+2]]+c[e[r+3]]+"-"+c[e[r+4]]+c[e[r+5]]+"-"+c[e[r+6]]+c[e[r+7]]+"-"+c[e[r+8]]+c[e[r+9]]+"-"+c[e[r+10]]+c[e[r+11]]+c[e[r+12]]+c[e[r+13]]+c[e[r+14]]+c[e[r+15]]).toLowerCase();if(!u(t))throw TypeError("Stringified UUID is invalid");return t};let d,g,b=0,v=0;const l=function(e,r,t){let i=r&&t||0;const o=r||new Array(16);let n=(e=e||{}).node||d,s=void 0!==e.clockseq?e.clockseq:g;if(null==n||null==s){const r=e.random||(e.rng||f)();null==n&&(n=d=[1|r[0],r[1],r[2],r[3],r[4],r[5]]),null==s&&(s=g=16383&(r[6]<<8|r[7]))}let a=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:v+1;const c=a-b+(u-v)/1e4;if(c<0&&void 0===e.clockseq&&(s=s+1&16383),(c<0||a>b)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,v=u,g=s,a+=122192928e5;const l=(1e4*(268435455&a)+u)%4294967296;o[i++]=l>>>24&255,o[i++]=l>>>16&255,o[i++]=l>>>8&255,o[i++]=255&l;const p=a/4294967296*1e4&268435455;o[i++]=p>>>8&255,o[i++]=255&p,o[i++]=p>>>24&15|16,o[i++]=p>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(let e=0;e<6;++e)o[i+e]=n[e];return r||h(o)},p=function(e){if(!u(e))throw TypeError("Invalid UUID");let r;const t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=255&r,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=255&r,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=255&r,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=255&r,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=255&r,t};function _(e,n,s){function r(e,r,t,i){if("string"==typeof e&&(e=function(r){r=unescape(encodeURIComponent(r));const t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}(e)),"string"==typeof r&&(r=p(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),o=s(o),o[6]=15&o[6]|n,o[8]=63&o[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=o[e];return t}return h(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const y=_("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("md5").update(e).digest()}),j=function(e,r,t){const i=(e=e||{}).random||(e.rng||f)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){t=t||0;for(let e=0;e<16;++e)r[t+e]=i[e];return r}return h(i)},m=_("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o().createHash("sha1").update(e).digest()}),k="00000000-0000-0000-0000-000000000000",x=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var t=o[e]={exports:{}};return i[e](t,t.exports,n),t.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var e=n(383);module.exports=e})();